<ng-template></ng-template>
<div class="container mt-4 pt-4">
  <div class="row mt-4">
    <div *ngIf="error" class="d-flex justify-content-center">
      <h6 class="alert alert-danger mt-2">
        {{ error }}
      </h6>
    </div>

    <div class="col-12 col-md-6 offset-md-3 py-2">
      <h6 class="px-2">
        {{ isLoginMode ? "Please login to your account" : "Sign Up" }}
      </h6>
      <div *ngIf="isLoading" style="text-align: center">
        <app-loading-spinner></app-loading-spinner>
      </div>

      <div class="py-2">
        <form
          #authForm="ngForm"
          (ngSubmit)="onSubmit(authForm)"
          *ngIf="!isLoading"
        >
          <div class="form-group p-2">
            <label class="py-2" for="email">Email</label>
            <input
              type="email"
              id="email"
              class="form-control"
              name="email"
              ngModel
              required
              email
            />
          </div>
          <div class="form-group p-2">
            <label class="py-2" for="password">Password</label>
            <input
              type="password"
              id="password"
              class="form-control"
              name="password"
              ngModel
              required
              minlength="6"
              placeholder="{{
                isLoginMode
                  ? ' '
                  : 'Password must contain at least 6 characters.'
              }}"
            />
          </div>

          <div class="py-4 d-flex justify-content-around">
            <button
              class="btn btn-custom"
              type="submit"
              [disabled]="!authForm.valid"
            >
              {{ isLoginMode ? "Log In" : "Sign Up" }}
            </button>

            <button
              class="btn btn-custom-2"
              (click)="switchMode()"
              type="button"
            >
              Switch To {{ isLoginMode ? "Sign Up" : "Log In" }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
