{"ast":null,"code":"import { User } from '../user.model';\nimport * as fromAuthActions from './auth.actions'; // //initial state della propriet√† user\n\nconst initialState = {\n  user: null,\n  authError: null,\n  loading: false\n};\nexport function authReducer(state = initialState, action) {\n  console.log(state);\n\n  switch (action.type) {\n    case fromAuthActions.AUTH_SUCCESS:\n      //creo un nuovo user\n      const newUser = new User(action.payload.email, action.payload.userId, action.payload.token, action.payload.expirationDate);\n      return Object.assign(Object.assign({}, state), {\n        user: newUser,\n        authError: null,\n        loading: false\n      });\n\n    case fromAuthActions.LOGOUT:\n      return Object.assign(Object.assign({}, state), {\n        user: null\n      });\n\n    case fromAuthActions.AUTH_SUCCESS:\n    case fromAuthActions.SIGNUP_START:\n      return Object.assign(Object.assign({}, state), {\n        authError: null,\n        loading: true\n      });\n\n    case fromAuthActions.AUTH_FAIL:\n      return Object.assign(Object.assign({}, state), {\n        user: null,\n        authError: action.payload,\n        loading: false\n      });\n\n    case fromAuthActions.CLEAR_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        user: null,\n        authError: null\n      });\n\n    default:\n      return state;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}