exports.id=979,exports.ids=[979],exports.modules={3979:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RecipesModule:()=>RecipesModule});var fesm2015_forms=__webpack_require__(665),router=__webpack_require__(5406),take=__webpack_require__(5257),map=__webpack_require__(8002),core=__webpack_require__(7716),auth_service=__webpack_require__(384),ngrx_store=__webpack_require__(4220);class AuthGuard{constructor(authService,router,store){this.authService=authService,this.router=router,this.store=store}canActivate(route,state){return this.store.select("auth").pipe((0,take.q)(1),(0,map.U)(authState=>authState.user),(0,map.U)(user=>!!user||this.router.createUrlTree(["/auth"])))}}AuthGuard.\u0275fac=function AuthGuard_Factory(t){return new(t||AuthGuard)(core.LFG(auth_service.e),core.LFG(router.F0),core.LFG(ngrx_store.yh))},AuthGuard.\u0275prov=core.Yz7({token:AuthGuard,factory:AuthGuard.\u0275fac,providedIn:"root"});var recipes_actions=__webpack_require__(6990),shopping_list_actions=__webpack_require__(3584),switchMap=__webpack_require__(3190),dropdown_directive=__webpack_require__(1300),common=__webpack_require__(8583);function RecipeDetailComponent_li_31_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",10),core._uU(1),core.qZA()),2&rf){const ingr_r1=ctx.$implicit;core.xp6(1),core.AsE(" ",ingr_r1.name," - ",ingr_r1.amount," ")}}class RecipeDetailComponent{constructor(route,router,store){this.route=route,this.router=router,this.store=store}ngOnInit(){this.route.params.pipe((0,map.U)(params=>+params.id),(0,switchMap.w)(id=>(this.id=id,this.store.select("recipes"))),(0,map.U)(recipesState=>recipesState.recipes.find((recipe,index)=>index===this.id))).subscribe(recipe=>{this.recipe=recipe})}onAddToShoppingList(){this.store.dispatch(new shopping_list_actions.Rw(this.recipe.ingredients))}onEditRecipe(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteRecipe(){this.store.dispatch(new recipes_actions.xR(this.id)),this.router.navigate(["/recipes"])}}function RecipeEditComponent_div_34_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",17),core.TgZ(1,"div",18),core._UZ(2,"input",19),core.qZA(),core.TgZ(3,"div",20),core._UZ(4,"input",21),core.qZA(),core.TgZ(5,"div",20),core.TgZ(6,"button",4),core.NdJ("click",function RecipeEditComponent_div_34_Template_button_click_6_listener(){const i_r3=core.CHM(_r5).index;return core.oxw().onDeleteIngredient(i_r3)}),core._uU(7," X "),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const i_r3=ctx.index;core.Q6J("formGroupName",i_r3),core.xp6(2),core.Q6J("formControlName","name"),core.xp6(2),core.Q6J("formControlName","amount")}}RecipeDetailComponent.\u0275fac=function RecipeDetailComponent_Factory(t){return new(t||RecipeDetailComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(ngrx_store.yh))},RecipeDetailComponent.\u0275cmp=core.Xpm({type:RecipeDetailComponent,selectors:[["app-recipe-detail"]],decls:32,vars:5,consts:[[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["appDropdown","",1,"btn-group"],["type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function RecipeDetailComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"img",2),core.qZA(),core.qZA(),core.TgZ(3,"div",0),core.TgZ(4,"div",1),core.TgZ(5,"h1"),core._uU(6),core.qZA(),core.qZA(),core.qZA(),core.TgZ(7,"div",0),core.TgZ(8,"div",1),core.TgZ(9,"div",3),core.TgZ(10,"button",4),core._uU(11," Manage Recipe "),core._UZ(12,"span",5),core.qZA(),core.TgZ(13,"ul",6),core.TgZ(14,"li"),core.TgZ(15,"a",7),core.NdJ("click",function RecipeDetailComponent_Template_a_click_15_listener(){return ctx.onAddToShoppingList()}),core._uU(16,"To Shopping List"),core.qZA(),core.qZA(),core.TgZ(17,"li"),core.TgZ(18,"a",7),core.NdJ("click",function RecipeDetailComponent_Template_a_click_18_listener(){return ctx.onEditRecipe()}),core._uU(19,"Edit Recipe"),core.qZA(),core.qZA(),core.TgZ(20,"li"),core.TgZ(21,"a",7),core.NdJ("click",function RecipeDetailComponent_Template_a_click_21_listener(){return ctx.onDeleteRecipe()}),core._uU(22,"Delete Recipe"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(23,"div",0),core.TgZ(24,"div",1),core._uU(25),core.qZA(),core.qZA(),core.TgZ(26,"div",0),core.TgZ(27,"div",1),core.TgZ(28,"h4"),core._uU(29,"Ingredients"),core.qZA(),core.TgZ(30,"ul",8),core.YNc(31,RecipeDetailComponent_li_31_Template,2,2,"li",9),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.xp6(2),core.s9C("alt",ctx.recipe.name),core.Q6J("src",ctx.recipe.imagePath,core.LSH),core.xp6(4),core.Oqu(ctx.recipe.name),core.xp6(19),core.hij(" ",ctx.recipe.description," "),core.xp6(6),core.Q6J("ngForOf",ctx.recipe.ingredients))},directives:[dropdown_directive.w,common.sg],styles:[""]});class RecipeEditComponent{constructor(route,router,store){this.route=route,this.router=router,this.store=store,this.editMode=!1}ngOnInit(){this.route.params.subscribe(params=>{this.id=+params.id,this.editMode=null!=params.id,this.initForm()})}onSubmit(){this.editMode?this.store.dispatch(new recipes_actions.JY({index:this.id,newRecipe:this.recipeForm.value})):this.store.dispatch(new recipes_actions.N0(this.recipeForm.value)),this.onCancel()}get controls(){return this.recipeForm.get("ingredients").controls}get ingredientsControls(){return this.recipeForm.get("ingredients").controls}onAddIngredient(){this.recipeForm.get("ingredients").push(new fesm2015_forms.cw({name:new fesm2015_forms.NI(null,fesm2015_forms.kI.required),amount:new fesm2015_forms.NI(null,[fesm2015_forms.kI.required,fesm2015_forms.kI.pattern(/^[1-9]+[0-9]*$/)])}))}onDeleteIngredient(index){this.recipeForm.get("ingredients").removeAt(index)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let recipeName="",recipeImagePath="",recipeDescription="",recipeIngredients=new fesm2015_forms.Oe([]);this.editMode&&(this.storeSubscr=this.store.select("recipes").pipe((0,map.U)(recipeState=>recipeState.recipes.find((recipe,index)=>index===this.id))).subscribe(recipe=>{if(recipeName=recipe.name,recipeImagePath=recipe.imagePath,recipeDescription=recipe.description,recipe.ingredients)for(let ing of recipe.ingredients)recipeIngredients.push(new fesm2015_forms.cw({name:new fesm2015_forms.NI(ing.name,fesm2015_forms.kI.required),amount:new fesm2015_forms.NI(ing.amount,[fesm2015_forms.kI.required,fesm2015_forms.kI.pattern(/[1-9]+[0-9]*$/)])}))})),this.recipeForm=new fesm2015_forms.cw({name:new fesm2015_forms.NI(recipeName,fesm2015_forms.kI.required),imagePath:new fesm2015_forms.NI(recipeImagePath,fesm2015_forms.kI.required),description:new fesm2015_forms.NI(recipeDescription,fesm2015_forms.kI.required),ingredients:recipeIngredients})}ngOnDestroy(){this.storeSubscr&&this.storeSubscr.unsubscribe()}}RecipeEditComponent.\u0275fac=function RecipeEditComponent_Factory(t){return new(t||RecipeEditComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(ngrx_store.yh))},RecipeEditComponent.\u0275cmp=core.Xpm({type:RecipeEditComponent,selectors:[["app-recipe-edit"]],decls:40,vars:8,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","name"],["type","text","id","name",1,"form-control",3,"formControlName"],["for","imagePath"],["type","text","id","imagePath",1,"form-control",3,"formControlName"],["imagePathRef",""],[1,"img-responsive",3,"src"],["for","description"],["type","text","id","description","rows","6",1,"form-control",3,"formControlName"],[1,"col-xs-12",3,"formArrayName"],["class","row","style","margin-top: 10px",3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"row",2,"margin-top","10px",3,"formGroupName"],[1,"col-xs-8"],["type","text",1,"form-control",3,"formControlName"],[1,"col-xs-2"],["type","number",1,"form-control",3,"formControlName"]],template:function RecipeEditComponent_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"form",2),core.NdJ("ngSubmit",function RecipeEditComponent_Template_form_ngSubmit_2_listener(){return ctx.onSubmit()}),core.TgZ(3,"div",0),core.TgZ(4,"div",1),core.TgZ(5,"button",3),core._uU(6," Save "),core.qZA(),core.TgZ(7,"button",4),core.NdJ("click",function RecipeEditComponent_Template_button_click_7_listener(){return ctx.onCancel()}),core._uU(8," Cancel "),core.qZA(),core.qZA(),core.qZA(),core.TgZ(9,"div",0),core.TgZ(10,"div",1),core.TgZ(11,"div",5),core.TgZ(12,"label",6),core._uU(13,"Name"),core.qZA(),core._UZ(14,"input",7),core.qZA(),core.qZA(),core.qZA(),core.TgZ(15,"div",0),core.TgZ(16,"div",1),core.TgZ(17,"div",5),core.TgZ(18,"label",8),core._uU(19,"Image URL"),core.qZA(),core._UZ(20,"input",9,10),core.qZA(),core.qZA(),core.qZA(),core.TgZ(22,"div",0),core.TgZ(23,"div",1),core.TgZ(24,"div",5),core._UZ(25,"img",11),core.qZA(),core.qZA(),core.qZA(),core.TgZ(26,"div",0),core.TgZ(27,"div",1),core.TgZ(28,"div",5),core.TgZ(29,"label",12),core._uU(30,"Description"),core.qZA(),core._UZ(31,"textarea",13),core.qZA(),core.qZA(),core.qZA(),core.TgZ(32,"div",0),core.TgZ(33,"div",14),core.YNc(34,RecipeEditComponent_div_34_Template,8,3,"div",15),core._UZ(35,"hr"),core.TgZ(36,"div",0),core.TgZ(37,"div",1),core.TgZ(38,"button",16),core.NdJ("click",function RecipeEditComponent_Template_button_click_38_listener(){return ctx.onAddIngredient()}),core._uU(39," Add Ingredient "),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(21);core.xp6(2),core.Q6J("formGroup",ctx.recipeForm),core.xp6(3),core.Q6J("disabled",!ctx.recipeForm.valid),core.xp6(9),core.Q6J("formControlName","name"),core.xp6(6),core.Q6J("formControlName","imagePath"),core.xp6(5),core.Q6J("src",_r0.value,core.LSH),core.xp6(6),core.Q6J("formControlName","description"),core.xp6(2),core.Q6J("formArrayName","ingredients"),core.xp6(1),core.Q6J("ngForOf",ctx.controls)}},directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.CE,common.sg,fesm2015_forms.x0,fesm2015_forms.wV],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}"]});class RecipeStartComponent{constructor(){}ngOnInit(){}}RecipeStartComponent.\u0275fac=function RecipeStartComponent_Factory(t){return new(t||RecipeStartComponent)},RecipeStartComponent.\u0275cmp=core.Xpm({type:RecipeStartComponent,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function RecipeStartComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"h3"),core._uU(1,"Please select a Recipe! \ud83c\udf5d\ud83c\udf56\ud83c\udf2e\ud83e\udd5e"),core.qZA())},styles:[""]});var ngrx_effects=__webpack_require__(5887),of=__webpack_require__(5917);class RecipesResolverService{constructor(store,actions$){this.store=store,this.actions$=actions$}resolve(route,state){return this.store.select("recipes").pipe((0,take.q)(1),(0,map.U)(recipesState=>recipesState.recipes),(0,switchMap.w)(recipes=>0===recipes.length?(this.store.dispatch(new recipes_actions.QS),this.actions$.pipe((0,ngrx_effects.l4)(recipes_actions.St),(0,take.q)(1))):(0,of.of)(recipes)))}}RecipesResolverService.\u0275fac=function RecipesResolverService_Factory(t){return new(t||RecipesResolverService)(core.LFG(ngrx_store.yh),core.LFG(ngrx_effects.eX))},RecipesResolverService.\u0275prov=core.Yz7({token:RecipesResolverService,factory:RecipesResolverService.\u0275fac,providedIn:"root"});const _c0=function(a0){return[a0]};class RecipeItemComponent{ngOnInit(){}}function RecipeListComponent_app_recipe_item_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"app-recipe-item",4),2&rf){const recipeEl_r1=ctx.$implicit,i_r2=ctx.index;core.Q6J("recipe",recipeEl_r1)("index",i_r2)}}RecipeItemComponent.\u0275fac=function RecipeItemComponent_Factory(t){return new(t||RecipeItemComponent)},RecipeItemComponent.\u0275cmp=core.Xpm({type:RecipeItemComponent,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",index:"index"},decls:8,vars:7,consts:[["routerLinkActive","active",1,"list-group-item","clearfix",2,"cursor","pointer",3,"routerLink"],[1,"pull-left"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"pull-right"],[1,"img-responsive",2,"max-height","50px",3,"src","alt"]],template:function RecipeItemComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"a",0),core.TgZ(1,"div",1),core.TgZ(2,"h4",2),core._uU(3),core.qZA(),core.TgZ(4,"p",3),core._uU(5),core.qZA(),core.qZA(),core.TgZ(6,"span",4),core._UZ(7,"img",5),core.qZA(),core.qZA()),2&rf&&(core.Q6J("routerLink",core.VKq(5,_c0,ctx.index)),core.xp6(3),core.Oqu(ctx.recipe.name),core.xp6(2),core.Oqu(ctx.recipe.description),core.xp6(2),core.s9C("src",ctx.recipe.imagePath,core.LSH),core.s9C("alt",ctx.recipe.name))},directives:[router.yS,router.Od],styles:[""]});class RecipeListComponent{constructor(router,route,store){this.router=router,this.route=route,this.store=store}ngOnInit(){this.subscription=this.store.select("recipes").pipe((0,map.U)(recipesState=>recipesState.recipes)).subscribe(recipes=>{this.recipes=recipes})}onNewRecipe(){this.router.navigate(["new"],{relativeTo:this.route})}ngOnDestroy(){this.subscription.unsubscribe()}}RecipeListComponent.\u0275fac=function RecipeListComponent_Factory(t){return new(t||RecipeListComponent)(core.Y36(router.F0),core.Y36(router.gz),core.Y36(ngrx_store.yh))},RecipeListComponent.\u0275cmp=core.Xpm({type:RecipeListComponent,selectors:[["app-recipe-list"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success",3,"click"],[3,"recipe","index",4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function RecipeListComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"button",2),core.NdJ("click",function RecipeListComponent_Template_button_click_2_listener(){return ctx.onNewRecipe()}),core._uU(3,"New Recipe"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(4,"div",0),core.TgZ(5,"div",1),core.YNc(6,RecipeListComponent_app_recipe_item_6_Template,1,2,"app-recipe-item",3),core.qZA(),core.qZA()),2&rf&&(core.xp6(6),core.Q6J("ngForOf",ctx.recipes))},directives:[common.sg,RecipeItemComponent],styles:[""]});class RecipesComponent{constructor(){}ngOnInit(){}}RecipesComponent.\u0275fac=function RecipesComponent_Factory(t){return new(t||RecipesComponent)},RecipesComponent.\u0275cmp=core.Xpm({type:RecipesComponent,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function RecipesComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-recipe-list"),core.qZA(),core.TgZ(3,"div",2),core._UZ(4,"router-outlet"),core.qZA(),core.qZA())},directives:[RecipeListComponent,router.lC],styles:[""]});const recipesRoutes=[{path:"",component:RecipesComponent,canActivate:[AuthGuard],children:[{path:"",component:RecipeStartComponent},{path:"new",component:RecipeEditComponent},{path:":id",component:RecipeDetailComponent,resolve:[RecipesResolverService]},{path:":id/edit",component:RecipeEditComponent,resolve:[RecipesResolverService]}]}];class RecipesRoutingModule{}RecipesRoutingModule.\u0275fac=function RecipesRoutingModule_Factory(t){return new(t||RecipesRoutingModule)},RecipesRoutingModule.\u0275mod=core.oAB({type:RecipesRoutingModule}),RecipesRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(recipesRoutes)],router.Bz]});var shared_module=__webpack_require__(4466);class RecipesModule{}RecipesModule.\u0275fac=function RecipesModule_Factory(t){return new(t||RecipesModule)},RecipesModule.\u0275mod=core.oAB({type:RecipesModule}),RecipesModule.\u0275inj=core.cJS({imports:[[router.Bz,fesm2015_forms.UX,RecipesRoutingModule,shared_module.m]]})}};